DROP TABLE WISH;

DROP SEQUENCE WISHSEQ;

CREATE TABLE WISH(
	
	WISHSEQ         NUMBER    PRIMARY KEY,
	PRODUCTSEQ      NUMBER    NOT NULL,
	USERSEQ         NUMBER    NOT NULL
);

CREATE SEQUENCE WISHSEQ;

ALTER TABLE WISH ADD CONSTRAINT WISH_USERSEQ_FK FOREIGN KEY(USERSEQ) REFERENCES PTSD_USER(USERSEQ);
ALTER TABLE WISH ADD CONSTRAINT WISH_PRODUCTSEQ_FK FOREIGN KEY(PRODUCTSEQ) REFERENCES PRODUCT(PRODUCTSEQ);

SELECT * FROM PTSD_USER;
SELECT * FROM PRODUCT;

ROLLBACK;

INSERT INTO WISH
VALUES (WISHSEQ.NEXTVAL, 1, 2);

SELECT * FROM WISH;

SELECT U.USERID, P.PRODUCTNAME, P.PRICE
FROM PTSD_USER U, PRODUCT P, WISH W
WHERE U.USERSEQ = W.USERSEQ AND P.PRODUCTSEQ = W.PRODUCTSEQ;

